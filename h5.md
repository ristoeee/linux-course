# h5

## Rauta, jolla tehtävät suoritetaan: 
* CPU: AMD Ryzen 9 5900x 12-core 3700MHz, boost 4950 MHz
* Muisti: 32 GB, 4 x 8G GSkill DDR4 3200c14
* Emolevy: ASUS ROG STRIX X570-E GAMING
* GPU: ASUS ROG STRIX RTX 2070 OC
* CPU & GPU jäähdytetty vedellä 
* OS: Windows 11, version 23H2
* VMware - Debian 12.6.0

### a) Kotisivu

Aikaisemmin kurssilla vuokratulla palvelimella tein jo ennen tätä tehtävää käyttäjälle (ei pääkäyttäjä) oman kansion, johon oli tarkoitus laittaa kotisivut pyörimään. Alta löytyy screenshotti kyseisestä kansiosta ja sen tiedostoista. 

![image](https://github.com/user-attachments/assets/1c35d0de-b81f-4838-aee5-6c5cd1ff5056)

Itse kotisivut löytyvät vuokraamastani osoitteesta: http://ennevaara.com/ joka siis on linkitetty vuokraamaani palvelimeen, jossa pyörii apache2 webbipalvelin.

![image](https://github.com/user-attachments/assets/6c53e068-7be0-4fd1-bbce-3c1a7536b35d)

Ensimmäinen validointi (https://validator.w3.org) suoraan osoitteesta antoi muutamia virheitä ja varoituksen:

![image](https://github.com/user-attachments/assets/58b3a5f5-d5ea-4fc5-9986-66add054f37e)

Pikaiset korjaukset html koodiin ensin offlinessa, jonka jälkeen päivitys palvelimelle:

![image](https://github.com/user-attachments/assets/cbf80bae-29d9-4815-9c50-eccf1fd4c126)

Kuten kuvasta näkyy, palvelimelle on asennettu myös githubin integrointi, jotta pystyn päivittämään sivuja vs Codessa omalla koneella, josta päivitys githubiin ja tämän jälkeen päivitys palvelimelle. Nämä kaikki on tehty ennen tätä tehtävää, joten näitä ei ole dokumentoitu. 

Käytännössä tämä vaatii gitin asennuksen palvelimelle:

```
sudo apt-get update
sudo apt-get install git
```

Jonka jälkeen tulee lisätä ssh yhteys githubiin (https://docs.github.com/en/authentication/connecting-to-github-with-ssh). Pähkinänkuoressa omalle tilille tai repoon (kuten itse tein tässä tapauksessa) tulee listätä ssh avain. Tämän jälkeen yhteyttä voi kokeilla komennolla:

![image](https://github.com/user-attachments/assets/4cc7057c-8398-4997-ade0-d73d9cab92a8)


Palataan takaisin itse tehtävään. Eli korjasin sivuja ja päivitin ne palvelimelle. Tämän jälkeen uusi validointi suoraan osoitteesta:

![image](https://github.com/user-attachments/assets/b60fb045-f0bb-4179-9434-f5b80ebd0f01)

Kuvan kokoon viittavia virheitä en lähde korjaamaan tässä vaiheessa, koska se näkyy kuten haluan.

# b) Alidomain

Ensin tein palvelimelle uuden kansion 'course' jonne tein index.html tiedoston. Tähän tulen linkittämään alidomainin.

![image](https://github.com/user-attachments/assets/be29047e-0e56-4130-ad99-fc3d81324759)


index.html tidostoon tein erittäin simppelin html-sivun:

![image](https://github.com/user-attachments/assets/26ada2e5-c542-4b1d-962d-17a201b01be2)


Tämän jälkeen aloin selvittämään, kuinka alidomain tehdään namecheapissä, josta olen vuokrannut domainin.
# c) ssh

Jotta palvelimelle yhdistäminen olisi helpompaa, tehtävässä on seuraavaksi tehtävänä ssh setup. Tämän olen myös tehnyt jo aikasemmin, joten tästä on vähän huonosti dokumentointia. Käyn kuitenkin läpi kuinka tämä tehdään. Netistä löytyy myös runsaasti ohjeita tähän, ja itse käytin swhosting ohjetta: https://www.swhosting.com/en/comunidad/manual/how-to-configure-ssh-keys-in-ubuntu-2204debian-10

Palvelimella oli jo valmiiksi asennettuna ssh, joten sitä ei tarvitse tehdä. Seuraava vaihe on luoda ssh-avainpari komennolla:
```
ssh-keygen
```

Tässä vaiheessa on hyvä teidostaa, että avainpari on kansiossa ~/.ssh/id-rsa jonne komnento luo sekä julkisen, että salaisen avaimen eri tiedostoihin. Julkinen avain on helppo erottaa päätteestä .pub

Tämän jälkeen julkinen avain kopioidaan halutulle palvelimelle ja se tapahtuu helposti komennolla:

```
ssh-copy-id user@remote-server
```

Tämän jälkeen yhteyttä voi kokeilla ja salasanaa ei tarvitse enää syöttää.

```
ssh user@remote-server
```

# d) DNS



## Lähteet

 * Karvinen, Tero. Linux palvelimet 2024 alkusyksy. https://terokarvinen.com/linux-palvelimet/
 * W3School, validointi. https://validator.w3.org/
 * GitHub. Connecting to github with ssh. https://docs.github.com/en/authentication/connecting-to-github-with-ssh
 * swhosting. How to configure SSH keys in Ubuntu/Debian. https://www.swhosting.com/en/comunidad/manual/how-to-configure-ssh-keys-in-ubuntu-2204debian-10
 * Namecheap. How to create subdomain for my domain. https://www.namecheap.com/support/knowledgebase/article.aspx/9776/2237/how-to-create-a-subdomain-for-my-domain/
 * 
