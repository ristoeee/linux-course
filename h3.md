# h3 Raportti
### x) 

## Rauta, jolla tehtävät suoritetaan (lisätty 4.9.2024): 
* CPU: AMD Ryzen 9 5900x 12-core 3700MHz, boost 4950 MHz
* Muisti: 32 GB, 4 x 8G GSkill DDR4 3200c14
* Emolevy: ASUS ROG STRIX X570-E GAMING
* GPU: ASUS ROG STRIX RTX 2070 OC
* CPU & GPU jäähdytetty vedellä 
* OS: Windows 11, version 23H2
* VMware - Debian 12.6.0

### a) webbipalvelimen testaus

Testataan, että luennon aikana asennettu Apache2-palvelin on toiminnassa. Tämä on hyvä tarkistaa sekä selaimella, että curl-komennolla.

![image](https://github.com/user-attachments/assets/b2dc7a08-6f35-475c-85fc-f094d6c77033)

Kuten kuvasta näkyy, niin palvelin on toiminnassa. Tässä on hyvä huomauttaa, että palvelin lähti itekseen päälle, heti kun virtuaalikoneen käynnisti. Tämä varmistettiin konffamalla palvelin käynnistymään koneen käynnistyksen yhteydessä:
```
sudo systemctl enable --now apache2
```

### b) Login tutkiskelua

Jos ei ole selvillä, mihin apachen login tallentuvat, niin lähtökohtaisesti Linuxissa logit ovat joko `/var/log/[sovellus]` tai ne löytyvät `journalctl`-logista. Apachen tapauksessa logit ovat järjestelmän logi hakemistossa. Slevitetään vielä, mitä logeja kyseisessä hakemista on:
```
sudo ls -l /var/log/apache2/
```

![image](https://github.com/user-attachments/assets/d64f3180-9df1-47f4-ab1e-bfc0d0936c31)

Tässä tapauksessa minua kiinnosti `access.log`, joten sitä tutkimaan tarkemmin komennolla:

```
sudo tail -f /war/log/apache2/access.log
```

![image](https://github.com/user-attachments/assets/63a14b9a-8afa-4750-a292-30ba52170bf2)

Jotta tästä saa jotain selvää, niin käydään hiukan läpi yhtä logi-riviä:

`127.0.0.1 - - [04/Sep/2024:23:19:51 +0300] "GET / HTTP/1.1" 200 3380 "-" "Mozilla/5.0 (X11; Linux x86_64; rv:109:0) Gecko/20100101 Firefox/115.0"`

* Rivillä on ensimmäisenä palvelimen IP-osoite, tässä tapauksessa localhost, eli 127.0.0.1.
* Tämän jälkeen on päivämäärä ja kellonaika, mukaan lukien aikavyöhyke.
* Seuraavaksi on HTTP-GET pyyntö palvelimelta
* Johon palvelin on vastannut `200`, joka tarkoittaa onnistunutta hakua palvelimelta.
* seuraava luku on vastauksen koko tavuina, eli minkä verran palvelin lähettää takaisin. Tässä tapauksessa `3380` tavua.
* `"-"` tämä kenttä sisältää tiedon sivustosta, joka ohjaa pyydetylle sivulle. Tässä tapauksessa on tyhjä, koska haettiin suoraan `localhost`
* Viimeinen pätkä logi rivillä kertoo käyttäjän selaimnen ja käyttöjärjestelmän `"Mozilla/5.0 (X11; Linux x86_64; rv:109:0) Gecko/20100101 Firefox/115.0"` Selaimesta on myös versio ilmoitettu tässä.

Lisää Apachen logeista voi lukea PhoenixNAP: Apache log files: How to view, configure & Use them (https://phoenixnap.com/kb/apache-access-log) sivulta. Varsinkin vianselvityksessä Error-login osalta tuolta löytyy kivasti tietoa hyvin jäsenneltynä.

 ### c) Etusivu uusiski



 ## Lähteet:
 * Karvinen, Tero. Linux palvelimet 2024 alkusyksy. https://terokarvinen.com/linux-palvelimet/
 * PhoenixNAP. Apache log files: How to view, configure & Use them. https://phoenixnap.com/kb/apache-access-log
